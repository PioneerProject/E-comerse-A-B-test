# Проект A/B тестирование

## Описание цели исследования:
Проверить результаты проведенного А/В тестирования и определить присутствует ли улучшение метрики на 10%

## Техническое задание:

- Исследуемый тест: recommender_system_test;
- Группы тестирования: А — контрольная, B — новая платёжная воронка;
- Дата запуска: 2020-12-07;
- Дата остановки набора новых пользователей: 2020-12-21;
- Дата остановки: 2021-01-04;
- Аудитория: в тест должно быть отобрано 15% новых пользователей из региона EU;
- Назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
- Ожидаемое количество участников теста: 6000.
- Ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%:
- Конверсии в просмотр карточек товаров — событие product_page,
- Просмотры корзины — product_cart,
- Покупки — purchase.

## Данные:
- final_ab_events.csv
- ab_project_marketing_events.csv
- final_ab_new_users.csv
- final_ab_participants.csv

## Описание данных:

- ab_project_marketing_events.csv — календарь маркетинговых событий на 2020 год.\
	Структура файла:\
		name — название маркетингового события;\
		regions — регионы, в которых будет проводиться рекламная кампания;\
		start_dt — дата начала кампании;\
		finish_dt — дата завершения кампании.

- final_ab_new_users.csv — пользователи, зарегистрировавшиеся с 7 до 21 декабря 2020 года.\
	Структура файла:\
		user_id — идентификатор пользователя;\
		first_date — дата регистрации;\
		region — регион пользователя;\
		device — устройство, с которого происходила регистрация.

- final_ab_events.csv — действия новых пользователей в период с 7 декабря 2020 по 4 января 2021 года.\
	Структура файла:\
		user_id — идентификатор пользователя;\
		event_dt — дата и время события;\
		event_name — тип события;\
		details — дополнительные данные о событии. Например, для покупок, purchase, в этом поле хранится стоимость покупки в долларах.\

- final_ab_participants.csv — таблица участников тестов.\
	Структура файла:\
		user_id — идентификатор пользователя;\
		ab_test — название теста;\
		group — группа пользователя.

## План исследования:

1. Подготовительный этап.\
    1.1 Импорт необходимых библиотек\
    1.2 Загрузка данных в переменные\
    1.3 Ознакомление с данными\
    1.4 Выводы по разделу

2. Предобработка данных\
    2.1 Приведение данных к соответствующим типам\
    2.2 Исследование пропусков и дубликатов\
    2.3 Выводы по разделу

3. Оценка корректности проведение теста\
    3.1 Изучение соответствия данных требованиям технического задания. Проверить корректность всех пунктов ТЗ\
    3.2 Проверка соответствия времени проведения теста маркетинговым и  другим активностям\
    3.3 Проверка пересечения с конкурирующими тестами и пересечение аудитории в тестах друг с другом.\
    3.4 Проверка на равномерность распределения по тестовым группам и правильность их формирования\
    3.5 Выводы по разделу

4. Исследовательский анализ данных\
    4.1 Количество событий на пользователя одинаково распределены в выборках?\
    4.2 Как число событий в выборках распределено по дням?\
    4.3 Как меняется конверсия в воронке в выборках на разных этапах?\
    4.4 Какие особенности данных нужно учесть, прежде чем приступать к A/B-тестированию?\
    4.5 Выводы по разделу

5. Оценка результатов А/В-тестирования\
    5.1 Что можно сказать про результаты A/В-тестирования?\
    5.2 Проверьте статистическую разницу долей z-критерием.\
    5.3 Выводы по разделу

6.  Общие выводы по этапу исследовательского анализа данных и по проведённой оценке результатов A/B-тестирования. Заключение о корректности 
проведения теста.

**Статус проекта**
Проект завершен. Возможна модификация кода, с целью оптимизации.

**Выводы**
В результате проведенной работы были выполнены действия по предобработке полученных данных. А в частности все временные значения были 
приведены к соответствующему типу данных, проведена работа по обнаружению, пропусков и принятия решения о том, что замена на какие-либо 
значения не требуется. Проведена работа по поиску явных дубликатов.
На следующем этапе проведена оценка корректности проведения теста, а также сопоставление данных ТЗ, в результате чего были отброшены ненужные 
данные, т.к. они могли повлиять на результаты тестирования.
На этапе исследовательского анализа, проведены изыскания, на предмет однородности распределения выборок в тестируемой и контрольной группах. 
Что позволили понять о том, что на очищенных данных, статистические значения выборок весьма приближены друг к другу. Далее проведено 
исследование на предмет распределения выборок событий по дням в тестируемой и контрольной группах, и сделан вывод о том, что распределение 
событий в группе А стремится к равномерному, распределение группы В не равномерно.
На этом же этапе проведено исследование конверсии в воронке в выборках на разных этапах по выбранным когортам. По построенной воронке были 
сделаны выводы о потерях в конверсиях, на разных ее этапах в группах. А также обнаружены различия в количестве набранных покупателей в 
группах.
На завершающем этапе исследовательского анализа выделены особенности данных нужно учесть, прежде чем приступать к A/B-тестированию. В финале 
работы было проведено А/В тестирование и сравнены результаты тестов по этапам конверсии воронки. Также проведена проверка Бонферрони, на 
предмет корректности выбора уровня значимости.
В результате проведенной работы необходимо отметить, что проведенных А/В тест не отвечает требованиям ТЗ по выбранному периоду проведения 
тестирования. Так предновогодние распродажи и общий подъем спроса может влиять на активность покупателей совершать покупки. Наложенная 
маркетинговая акция на тот же период, что и тест, также может влиять на поведение покупателей. Выборки в тестируемую и контрольную группу 
были осуществлены неравномерно. А также не удалось набрать таргета по количеству пользователей из определенного региона. Хоть это и позволило 
провести тест, но он прошел на нижней границе возможного тестирования. Также необходимо отметить отсутствие данных за период с 2020-12-30 
по 2021-01-04, что не позволило части набранных покупателей в группы, дожить до конечного лайфтайма.
По анализу конверсий в воронке не выявлен ожидаемый прирост в группе В по отношению к группе А, что не соответствует основной цели внедрения 
разработки.
В завершении работы проведено А/В-тестирование по этапам платежной воронки в тестируемой и контрольных группах. По результатам положительных 
различий в статистиках не обнаружено.
Рекомендуется провести повторное тестирование в более подходящий период и выполнить на боле качественном наборе данных и заранее 
предусмотреть синхронизацию проведения теста без влияния маркетинговой акции.
